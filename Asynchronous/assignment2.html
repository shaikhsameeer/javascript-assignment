<!doctype html>
<html>
    <body style="text-align: center; padding: 30px">
        <h1>News</h1>

        <button onclick="getNews()">Get News</button>

        <div
            id="news"
            style="
                margin-top: 30px;
                max-width: 600px;
                margin: 30px auto;
                text-align: left;
            "
        >
            Click the button to load news
        </div>

        <script>
            async function getNews() {
                document.getElementById("news").innerHTML = "Loading news...";

                try {
                    const response = await fetch(
                        "https://api.thenewsapi.com/v1/news/top?api_token=demo&locale=us&limit=3",
                    );
                    const data = await response.json();

                    let newsHTML = "";
                    data.data.forEach((item) => {
                        newsHTML += `<div style="border:1px solid #ccc; padding:15px; margin:10px; border-radius:5px;">
                <h3>${item.title}</h3>
                <p>${item.description || "No description available"}</p>
                <small>Source: ${item.source}</small>
            </div>`;
                    });

                    document.getElementById("news").innerHTML = newsHTML;
                } catch (error) {
                    document.getElementById("news").innerHTML =
                        "Could not load news. Try again.";
                }
            }
        </script>
    </body>
</html>